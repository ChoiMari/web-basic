<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <style>
        ul{ 
            padding: 0; 
            list-style-position: inside;
        }
        li{
            border-bottom: 1px solid #999;
            padding: 5px 0;
        }
        #add-btn{
            padding: 5px 10px;
            border: 0;
            background: #f80; 
            color: white;
            border-radius: 5px;
        }
        
        .active{ background:gold; } /* step3: 목록 클릭 스타일 */
    </style>
</head>
<body>
    <h1 id='title'>할일 목록</h1>
    <button id="add-btn">목록 추가</button>
    <ul id='list'>
        <li>제목 1</li>
        <li>제목 2</li>
        <li>제목 3</li>
        <li>제목 4</li>
    </ul>
</body>
    <!-- HTML이 로딩된 후 작성, 그래서 onload에 안써도 됨 -->
    <script type="text/javascript">
        let title = document.getElementById("title");
        let list = document.getElementById("list");
        let li = document.getElementsByTagName("li"); 
        // li태그 전체를 가져옴(배열)
        
        let addBtn = document.getElementById("add-btn");
        
        function activeItem (event){
        	console.log(event.target); // 발생한 이벤트의 가장 안쪽 태그를 확인
            console.log(event.currentTarget); //실제 이벤트를 건 태그를 확인
            if(event.target.nodeName === "LI"){ 
            	title.innerHTML = event.target.innerText;
            	
            }
            
            for(let i = 0;i < event.target.parentNode.children.length;i++){
            	//자식태그의 개수만큼 반복하겠다
            	event.target.parentNode.children[i].removeAttribute('class');
            	//일단 다 없애고 
            	
            }
            
            event.target.setAttribute('class','active');
            
        }
        
        list.addEventListener("click", activeItem);
        addBtn.addEventListener("click", function(){
            let txt = prompt('제목입력');
            if(txt != null){
                list.innerHTML += '<li>' + txt + '</li>'; // 기존에 누적
            }
            //ptomt() : 내장함수
        });
        /*
            이렇게 쓰는게 더 좋다고 함 - 유지보수에
            let li = document.createElement("li");
            li.innerText = txt;
            list.appendChild(li);
        
        */
    </script>
</html>