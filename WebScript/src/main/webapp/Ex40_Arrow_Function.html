<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>

</head>
<body>
    <p id="demo"></p>
    <p id="demo2"></p>
</body>
    <script type="text/javascript">
        //https://www.w3schools.com/js/js_arrow_function.asp
        //일반함수
        //function foo(){}
        //익명 함수
        let foo = function(){ // 함수는 일급객체(변수에 할당)
            console.log("foo...");
        }
        foo(); //호출. foo는 익명함수의 주소값을 가짐
        
        //2015 ES6 함수의 줄임 표현(Arrow Function)
        let bar = () => console.log("bar..");
        //bar변수에 함수 할당
        //function키워드 생략, {} 생략
        bar(); //호출 - 실행방법
        
        // 매개변수가 1개, return 함수
        let foo2 = x => x; //파라미터 1개짜리는 ()도 생략
        //let foo2 = function(x) {return x;}과 같음
        // function키워드, (), return 생략됨
        const data = foo2(100);
        console.log(data);
        
        let hello;
       // hello = function(val) {return "hello" + val;};
       
       hello = val => "hello" + val;
       // val 파라미터 받아서 return 보냄
       // 익숙치 않으면 원래 문장 넣고 빼보기
       
       const v = hello(" world");
       console.log(v);
       
       //매개변수가 2개 이상인 경우
       // function call(a,b) 또는 function call(a,b,c,d)
       let foo3 = (a,b) => {return a + b;} // 생략한걸 써도 괜찮긴 하다.
       //더 줄이면?
       let foo4 = (a,b) => a + b; // 파라미터 2개이상은 () 생략 불가
       const v2 = foo3(10,20);
       console.log(v2);
       
        //만약에 함수 안에 여러개의 논리가 필요하다면? (if, switch, ...)
        // 실행 문장 여러개면 {} 필요
        let foo5 = (a,b) => {
            let c = 100; return a+b+c;
        };
        
        //응용문제
        //함수가 return : json객체 라면?
        let foo6 = () => ({a:1, b:2, c:3}); // {{}} 이거 안됨
        // ({}) 가능함
        
        const obj = foo5();
        console.log(obj);
        
        //즉시실행함수(암기하기) - 온로드하자마자 즉시 실행되는 문법
        (
           function(){
               console.log("즉시 실행 함수");
           }
        )
        
        /*
        이걸 화살표 함수로 쓰면
        (
                () => console.log("즉시 실행 함수");
        ) ();
        
        */
        
        // 2차 프로젝트때 자바스크립 코드는 전부 화살표 함수로 사용하기
        
        //https://www.w3schools.com/jsref/jsref_obj_array.asp
        //배열에 관련된 다양한 함수들
        //forEach, isArray, map
        
        /*
            초급자 암기하기!
            1. for(let i = 0;i < 10;i++)
            2. for(let index in Array) {Array[index]}
            3. for(let value of Array) {value}
            
            객체(JSON)
            JSON {a:1, b:2, c:3}
            1. for(let key in Object) {// 객체는 키를 던짐
                Object[key]
            } //-> 객체도 for문을 돌릴 수 있다
            //객체를 돌리면 key값
            //객체["키값"]  
            //객체["a"] -> 1이 리턴됨(value값 리턴)
            
            2. const obj = {a:1} 
            -> (객체.속성명) 사용가능
            obj.a 하면 1이 리턴(value값)
            
            추가적으로
            1. Array.isArray()
            2. Array.forEach(function(value,index,array){})
               -> 배열.forEach
            3. Array.map()
              -> 새 배열을 만드는데 조작된 형태의 배열을 만들 수 있음
        */
        
        function myFunc(){
                  const data = ["A", "B", "C", "D"];
                  let x = document.getElementById("demo2");
                  x.innerHTML = Array.isArray(data);//너 배열이니? 
                		  //맞으면 true리턴, 아니면 false
              }
        myFunc();
        let txt = "";
        const numbers = [45,5,8,16,25];
        //Array.forEach(function(value,index,array){})
        
        function myFunc2(value,index,array){ // 1개만 쓰면 value값이 들어옴
        	//2개 쓰면 value,index들어오고
        	// 파라미터로 array은 (오버로딩 개념)
        	// 배열을 쓰면 받고 안쓰면 안받아도 된다고 함
        	txt = "(" + value + ")" + "[" + index + "]" + "[" + array + "]";
        	console.log(txt);
        }//처음 돌면 value,index,array -> 45,0,전체배열 이렇게 들어감
        numbers.forEach(myFunc2);
        /*
         1번째 돌 때 (45), [0] , [45,5,8,16,25]
         2번째 돌 때 (5), [1] , [45,5,8,16,25]
         3번째 돌 때 (8), [2] , [45,5,8,16,25]
         4번째 돌 때 (16), [3] , [45,5,8,16,25]
         5번째 돌 때 (25), [4] , [45,5,8,16,25]
        */
        
        const number2 = [65,44,12,4];
        const newArr = number2.map(function(value, index, array){
        	return value* 10 + index;
        }); // 새로운 배열을 만듬.. 가동된..
        // return value* 10 + index;이 논리가 적용된 새로운 배열
        // 자바에서는 stream에서 많이 사용한다고 map이..
        
        console.log(newArr); //(4) [650,441,122,43]
        
        //응용하기
        let evens = [2,4,6,8];
        let odds = evens.map(function(value){
        	return value + 1;
        });
        
        //화살표 함수로 줄이기
        //let odds = evens.map(value => value + 1);
        
        console.log(odds);
        
        //let nums = evens.map(function(value,index){return value + index});
        // 화살표 함수로 바꾸기
        let nums = evens.map((value,index) => value + index);
        
        let arr = [];
        // 예전 방식 - 이것 보다는...
        evens.forEach(value => {
        	if(value % 2 === 0){
        		arr.push(value);
        	}
        }); //map() 함수 사용 권장
        
        // 지금은 map을 쓰는게 좋다...
        console.log(arr); 
    </script>
</html>